---
title: "CPP 528 Data Management"
author: "Alev Yildiz"
date: "11/5/2021"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```


```{r}
# Library
library( tidyverse )
library(data.table)
library( here )
library( dplyr )

```



```{r}
# store data dictionary file path
DD_FILEPATH <- here::here( "data/rodeo/ltdb_data_dictionary_ay.csv" )

# import data dictionary
dd <- read.csv( DD_FILEPATH, stringsAsFactors=F )

# Longitudinal Tract Data Base 2010 sample
ltdb.data <- read.csv(here::here("data/raw/ltdb_std_2010_sample.csv"))

# Rename columns to lowercase
ltdb.data <- as.data.frame(sapply(ltdb.data, tolower))
```


```{r}
# load function source files
source(here("analysis/utilities_ay.R"))

```

```{r}
variable_years(dd, c("1970", "1980", "1990", "2000", "2010"))

``` 

```{r}
variables <- variable_years(dd, c("1990", "2000", "2010"))

variables %>% distinct(root)

left_join(variables, dd) %>% tail(50)
```

