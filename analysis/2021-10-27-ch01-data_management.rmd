---
title: "Lab02-AhmedRashwan"
author: "Ahmed Rashwan"
date: "10/27/2021"
output:
  md_document:
    variant: gfm
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r, eval=FALSE}

# Install necessary packages
install.packages("here")

```


### Running Needed Packages 


```{r , warning=FALSE}

# load necessary packages
library( tidyverse )
library( here )
library( pander )


```


### Part 1: Data Concordance


```{r , , warning=FALSE}
# Reading data files from specific file paths in my desktop


# store data dictionary file path
DD_FILEPATH <- here::here("data/raw/Ahmeds-ltdb_data_dictionary.csv")

# import data dictionary
dd <- read.csv(DD_FILEPATH , header=T,fill=T , stringsAsFactors=F)
head(dd) %>% pander()

```

```{r , , warning=FALSE}

# rename columns to lower case in both data frames 


dd <- as.data.frame( sapply( dd, tolower) )

ltdb.data <- as.data.frame( sapply( dd, tolower) )

# view a subset of columns 
dd[ c(1:5,15:17), ] %>% pander()

```


### Part 2: Build a Variable Filter


### Loading functions from utilities_master.R file

```{r , warning=FALSE}

# Loading functions from source files

import::here("today",
             "cat_filter",
             "search_description",
             "search_years",
             # notice the use of here::here() that points to the .R file
             # where all these R objects are created
             .from = here::here("analysis/utilities_master.R"),
             .character_only = TRUE)
```

### Run functions 

```{r , warning=FALSE}
# Run the date function

today()

cat_filter(dd,c("age", "race")) %>% head(10) %>% pander 

search_description(dd , "*income*") %>% head() %>% pander

search_years(dd, year = c("1990", "2000", "2010")) %>% head(20) %>% pander

```
